(this["webpackJsonpforbitswap-nfts-interface-v2"]=this["webpackJsonpforbitswap-nfts-interface-v2"]||[]).push([[37],{1790:function(e,t,r){"use strict";var n=r(8),c=r(340),a=r(229),i={createNft:function(e,t){return c.a.post("/items/create",e)},updateNftByItemId:function(e,t,r){var n="/items/update/userAddress/".concat(t,"/itemId/").concat(r);return c.a.put(n,e)},freezeNft:function(e,t,r){var n={itemId:e,userAddress:t,metaData:r};return c.a.put("/items/freeze",n)},getListTokenId:function(e,t){var r=e.pageSize,c=e.page,i="/items/query/pageSize/".concat(r,"/page/").concat(c),s=Object(n.a)({},t);return a.a.post(i,s)},getSearchListTokenId:function(e,t){var r=e.pageSize,c=e.page,i="/items/query-search/pageSize/".concat(r,"/page/").concat(c),s=Object(n.a)({},t);return a.a.post(i,s)},getLessNftInfoByTokenId:function(e){var t=e.itemId,r=e.userAddress,n="/items/itemId/".concat(t,"?userAddress=").concat(r);return a.a.get(n)},getDetailNftItemById:function(e){var t="/items/detail/itemId/".concat(e);return a.a.get(t)},getSearchNftItemById:function(e){var t="/items/search/itemId/".concat(e);return a.a.get(t)},getDataForFreezeNft:function(e){var t="/items/freeze/metadata/itemId/".concat(e);return a.a.get(t)}};t.a=i},1808:function(e,t,r){"use strict";var n=r(8),c=r(340),a=r(229),i={createOrder:function(e,t){console.log("data gui len ne",Object(n.a)(Object(n.a)({},e),{},{chainId:t}));return c.a.post("/sell/create",Object(n.a)(Object(n.a)({},e),{},{chainId:t}))},acceptOrder:function(e){var t=e.order,r=e.collectionId,a=e.chainId,i=e.transactionHash,s=e.type,o=e.finalPrice,u=e.userAddress;return console.log("data gui len ne",Object(n.a)(Object(n.a)({},t),{},{collectionId:r,transactionHash:i,type:s,finalPrice:o,userAddress:u,chainId:a})),c.a.post("buy/create",Object(n.a)(Object(n.a)({},t),{},{collectionId:r,transactionHash:i,type:s,finalPrice:o,userAddress:u,chainId:a}))},deleteOrder:function(e){console.log("data gui len ne",e);return c.a.post("orders/delete",e)},getOrderDetailByUser:function(e){var t="/offers/user/orderId/".concat(e);return a.a.get(t)},getOrderDetail:function(e){var t="/orders/detail/orderId/".concat(e);return a.a.get(t)},getOrderSellByItemId:function(e){var t="orders/itemId/".concat(e);return a.a.get(t)},getPersonalOffer:function(e,t){var r="offers/userAddress/".concat(e,"/itemId/").concat(t);return a.a.get(r)},getListOffer:function(e){return a.a.post("offers/query",e)}};t.a=i},1821:function(e,t,r){"use strict";var n=r(229),c={getListPaymentTokenByChainId:function(e){var t="orders/listToken?chainId=".concat(e);return n.a.get(t)},changeTokenToUsd:function(e,t,r){return n.a.post("/items/changePrice",{from:e,to:t,inputPrice:r})}};t.a=c},1825:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(35),c=r(1),a=r.n(c),i=r(1821),s=r(449),o=r(58);function u(e,t){return Object(n.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(o.a)(Object(s.f)()),r.prev=1,r.next=4,i.a.getListPaymentTokenByChainId(e);case 4:n=r.sent,Object(o.a)(Object(s.b)(n)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),Object(o.a)(Object(s.c)(r.t0)),t&&t(Object(o.b)());case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))}},1848:function(e,t,r){"use strict";var n=r(229),c={getTradingHistoryByNFTsId:function(e){var t=e.itemId,r="/histories/itemId/".concat(t,"/pageSize/9999/page/1");return n.a.get(r)},getActivityHistoryByUserAddress:function(e){var t="/histories/userAddress/".concat(e,"/pageSize/9999/page/1");return n.a.get(t)},getActivityHistoryByCollectionId:function(e){var t="/histories/collectionId/".concat(e,"/pageSize/9999/page/1");return n.a.get(t)},getActivityPriceChart:function(e){var t="/histories/chart/itemId/".concat(e);return n.a.get(t)},getLatestTransaction:function(){return n.a.get("/histories/latest")}};t.a=c},1860:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return b}));var n=r(35),c=r(1),a=r.n(c),i=r(58),s=r(1848),o=r(455);function u(e,t){return Object(n.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(i.a)(Object(o.i)()),r.prev=1,r.next=4,s.a.getTradingHistoryByNFTsId(e);case 4:n=r.sent,Object(i.a)(Object(o.c)(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(i.a)(Object(o.e)(r.t0));case 11:return r.prev=11,t&&t(Object(i.b)()),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})))}function f(e,t){return Object(n.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(i.a)(Object(o.i)()),r.prev=1,r.next=4,s.a.getActivityHistoryByUserAddress(e);case 4:n=r.sent,Object(i.a)(Object(o.d)(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(i.a)(Object(o.e)(r.t0));case 11:return r.prev=11,t&&t(Object(i.b)()),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})))}function b(e,t){return Object(n.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(i.a)(Object(o.i)()),r.prev=1,r.next=4,s.a.getActivityHistoryByCollectionId(e);case 4:n=r.sent,Object(i.a)(Object(o.b)(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(i.a)(Object(o.e)(r.t0));case 11:return r.prev=11,t&&t(Object(i.b)()),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})))}},1913:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(35),c=r(1),a=r.n(c),i=r(1790),s=r(446);function o(e,t){return function(){var r=Object(n.a)(a.a.mark((function r(n,c){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Object(s.f)()),r.prev=1,r.next=4,i.a.getDetailNftItemById(e);case 4:o=r.sent,n(Object(s.b)(o)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),n(Object(s.c)(r.t0));case 11:return r.prev=11,t&&t(c()),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})));return function(e,t){return r.apply(this,arguments)}}()}},1980:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(35),c=r(1),a=r.n(c),i=r(1808),s=r(456),o=r(58);function u(e,t){return Object(n.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(o.a)(Object(s.h)()),r.prev=1,r.next=4,i.a.getListOffer(e);case 4:n=r.sent,Object(o.a)(Object(s.b)(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(o.a)(Object(s.c)(r.t0));case 11:return r.prev=11,t&&t(Object(o.b)()),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})))}},2607:function(e,t,r){"use strict";r.r(t);var n=r(35),c=r(8),a=r(21),i=r(1),s=r.n(i),o=r(0),u=r(34),f=r(164),b=r(79),d=r(446),l=r(74),O=r(456),j=r(1913),p=r(1825),v=r(1980),h=r(1860),g=r(1779),m=r(1774),I=r(1761),x=r(1808),y=r(1848),k=r(56),w=r(126),S=r(63),A=r(2),P=Object(k.a)(Object(o.lazy)((function(){return r.e(63).then(r.bind(null,2555))}))),T=Object(k.a)(Object(o.lazy)((function(){return Promise.all([r.e(0),r.e(76)]).then(r.bind(null,2569))}))),z=Object(k.a)(Object(o.lazy)((function(){return Promise.all([r.e(0),r.e(2),r.e(26)]).then(r.bind(null,2573))}))),B=Object(k.a)(Object(o.lazy)((function(){return r.e(42).then(r.bind(null,2565))}))),N=Object(k.a)(Object(o.lazy)((function(){return Promise.resolve().then(r.bind(null,460))})));t.default=function(){var e=Object(u.g)().itemId,t=Object(b.b)(),r=Object(o.useState)([]),i=Object(a.a)(r,2),k=i[0],C=i[1],H=Object(o.useState)(null),L=Object(a.a)(H,2),D=L[0],E=L[1],F=Object(o.useState)(!1),U=Object(a.a)(F,2),q=U[0],J=U[1],_=Object(o.useState)(!1),G=Object(a.a)(_,2),M=G[0],R=G[1],W=Object(o.useState)(!1),X=Object(a.a)(W,2),K=X[0],Q=X[1],V=Object(b.c)(d.e),Y=Object(b.c)(l.e),Z=Object(b.c)(d.d),$=Object(b.c)(O.d),ee=Object(b.c)(l.c);Object(o.useEffect)((function(){e&&t(Object(j.a)(e,re)),window.scrollTo({top:0,behavior:"smooth"})}),[K,e]),Object(o.useEffect)((function(){Y&&t(Object(p.a)(Y,ne))}),[Y]),Object(o.useEffect)((function(){Y&&e&&t(Object(v.a)(Object(c.a)({itemId:e},$),ce))}),[t,Y,$,K,e]),Object(o.useEffect)((function(){ee&&e&&Object(n.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,J(!0),t.next=4,x.a.getPersonalOffer(ee,e);case 4:r=t.sent,E(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),E(null),console.log(t.t0.message);case 12:return t.prev=12,J(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})))()}),[ee,e,K]),Object(o.useEffect)((function(){e&&Object(n.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.getActivityPriceChart(e);case 3:r=t.sent,C(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[t,K,e]),Object(o.useEffect)((function(){Y&&t(Object(h.b)({chainId:Y,itemId:e},ae))}),[t,e,Y,K,e]);var te=function(){Q(!K)},re=function(){var e=Object(n.a)(s.a.mark((function e(t){var r,n,c,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.nftItem).isSuccess){e.next=4;break}return f.b.error(r.errorMessage,{autoClose:2500}),e.abrupt("return");case 4:if(!((n=r.NFTItem.order)&&Object(w.e)(new Date,Object(w.F)(parseInt(n.expirationTime)))>0)){e.next=21;break}return e.prev=6,R(!0),i=null===(c=r.NFTItem.collection)||void 0===c?void 0:c.collectionId,o={collectionId:i,orderId:null!==(a=n.orderId)&&void 0!==a?a:n._id,type:S.g.EXPIRED_LISTING,transactionHash:""},e.next=12,x.a.deleteOrder(o);case 12:te(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),f.b.error("Some error occur when executing your expired order sell!");case 18:return e.prev=18,R(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){e.tokenPayment.isSuccess||f.b.error("Can not fetch list token payment!")},ce=function(e){e.order.isSuccess||f.b.error("Can not fetch order offer of this item!")},ae=function(e){e.tradeHistory.isSuccess||f.b.error("Can not fetch histories of this item!")};return Object(A.jsx)(A.Fragment,{children:Z||M?Object(A.jsx)(N,{}):Object(A.jsxs)(g.a,{maxWidth:"xl",sx:{mt:5},children:[Object(A.jsxs)(m.a,{container:!0,spacing:10,children:[Object(A.jsx)(m.a,{item:!0,xs:12,lg:6,children:Object(A.jsx)(T,{item:V})}),Object(A.jsx)(m.a,{item:!0,xs:12,lg:6,children:Object(A.jsx)(B,{item:V,personalOffer:D,loadingPersonalOffer:q,refetchApi:te,listActivityPriceChart:k})})]}),V&&Object(A.jsx)(I.a,{sx:{mt:5},children:Object(A.jsx)(P,{})}),e&&Object(A.jsx)(I.a,{sx:{mt:5},children:Object(A.jsx)(z,{collection:null===V||void 0===V?void 0:V.collection,itemId:e})})]})})}}}]);
//# sourceMappingURL=37.3e22ce8c.chunk.js.map